<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <script src="phaser3.min.js"></script>
    <style>
        body{
            margin: 0;
	        overflow: hidden;            
        }
        canvas {
        	height: 100%;
        }
        #game{
            margin: 0 auto;
        }
    </style>
</head>
<body>
    <div id='gameLayout'></div>
    <script>
var gWindowWidth;
var gWindowHeight;
// Resize
function resizeApp()
{
    var div = document.getElementById('gameLayout');
    const oldWidth = gWindowWidth;
    gWindowWidth = (window.innerWidth > 0) ? window.innerWidth : screen.width;
    gWindowHeight = (window.innerHeight > 0) ? window.innerHeight : screen.height;
    div.style.width = gWindowWidth
    div.style.height = gWindowHeight
}
		
window.addEventListener('resize', function(e)
{
	resizeApp();
});

var graphics;
var text;
var Game = new Phaser.Scene("Game");
Game.create = function() {
    var textDown = this.add.text(10, 10, 'down',
      { font: '16px Courier', fill: '#00ff00' });
    var textOver = this.add.text(10, 10, 'over',
      { font: '16px Courier', fill: '#00ff00' });
    graphics = this.add.graphics(0, 0);
    this.input.addPointer(9);

    var singleKey = this.add.zone(50, 100, 400, 400).setOrigin(0).setInteractive();

    singleKey.on('pointerdown', function (pointer, obj)
    {
        textDown.x = pointer.x;
        textDown.y = pointer.y;
    });

    singleKey.on('pointerover', function (pointer, object)
    {
        if (pointer.isDown) {
            textOver.x = pointer.x;
            textOver.y = pointer.y;
        }
    });

}

Game.update = function() {
    if (this.input.mousePointer.isDown) {
        graphics.clear();
    
        graphics.fillStyle(0xff0000, 0.5);
        graphics.fillRect(this.input.mousePointer.x-16, this.input.mousePointer.y-16, 32, 32);
    }
}

var App = function() {};
App.prototype.start = function() {
    var e = [Game];
    let config = {
        type: Phaser.AUTO,
        width: gWindowWidth,
        height: gWindowHeight,
        parent: document.getElementById('gameLayout'),
        scene: e,
        title: "tetris for mobile"
    };    
	var game = new Phaser.Game(config);
};

window.onload = function()
{
	var app = new App();
	app.start();
}

resizeApp();
	</script>
</body>
</html>
